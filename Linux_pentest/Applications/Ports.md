# 445 
We expect Microsoft Windows Server. 
## tools
smbclient
## resources
https://book.hacktricks.xyz/network-services-pentesting/pentesting-smb
## Search secrets in SMB shares 
SMB shares can be exposed (use nmap -sS to confirm)
-> check passwordless shares:
List shares with ````smbclient -N -L <IP>```` (-N is for `no passwd`)
then connect the shares using  ````smbclient -N \\\\<IP>\\<share name>````
then look for interesting files

# 1433 
We expect a MS SQL server
## tools 
python3-impacket includes several scripts - the relevant script here is mssqlclient, the corresponding executable name is normally `mpacket-mssqlclient`.
## resources
https://book.hacktricks.xyz/network-services-pentesting/pentesting-mssql-microsoft-sql-server
https://pentestmonkey.net/cheat-sheet/sql-injection/mysql-sql-injection-cheat-sheet
## pentest MSSQL server
when landing on a MSSQL DB you will want first to check the level of privileges:
SELECT is_srvrolemember(‘sysadmin’);
SELECT is_srvrolemember(‘dbcreator’);
SELECT is_srvrolemember(‘bulkadmin’);
SELECT is_srvrolemember(‘diskadmin’);
SELECT is_srvrolemember(‘processadmin’);
SELECT is_srvrolemember(‘serveradmin’);
SELECT is_srvrolemember(‘setupadmin’);
SELECT is_srvrolemember(‘securityadmin’);

And especially if you are sysadmon, you'd want to enable and execute xp_cmdshell 
And then you'll want to upload a reverse shell
